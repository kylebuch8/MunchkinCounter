<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/more-routing/more-route.html">
<link rel="import" href="../bower_components/firebase-element/firebase-collection.html">

<dom-module id="mc-game">
    <template>
        <style>
            [flex] {
                display: -webkit-flex;
                display: flex;
            }

            [player] {
                display: -webkit-flex
                display: flex;
                -webkit-flex-grow: 1;
                flex-grow: 1;
                -webkit-align-self: center;
                align-self: center;
                -webkit-align-items: center;
                align-items: center;
                -webkit-justify-content: center;
                justify-content: center;
            }

        </style>

        <more-route context name="game" params="{{params}}"></more-route>
        <firebase-collection data="{{players}}" location="https://munchkincounter.firebaseio.com/games/z957ygu/players"></firebase-collection>
        <div flex>
            <template is="dom-repeat" items="{{players}}">
                <div player on-tap="goToPlayer">
                    <span>{{item.name}}</span>
                </div>
            </template>
        </div>
    </template>

    <script>

    Polymer({
        is: 'mc-game',

        // properties: {
        //     players: {
        //         type: Array,
        //         value: ['Kyle', 'Kristy', 'Cyrus', 'Ramona']
        //     }
        // },

        goToPlayer: function (event) {
            MoreRouting.navigateTo('player', {
                gameId: this.params.gameId,
                playerId: event.model.item
            });
        }
    });

    </script>
</dom-module>
